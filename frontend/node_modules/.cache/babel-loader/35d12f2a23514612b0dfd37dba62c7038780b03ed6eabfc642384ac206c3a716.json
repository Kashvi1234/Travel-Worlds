{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Punit\\\\Downloads\\\\tour-management\\\\tour-management\\\\frontend\\\\src\\\\pages\\\\TourDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport '../styles/tour-details.css';\nimport { Container, Row, Col, Form, ListGroup } from 'reactstrap';\nimport { useParams } from 'react-router-dom';\nimport calculateAvgRating from '../utils/avgRating';\nimport avatar from '../assets/images/avatar.jpg';\nimport Booking from '../components/Booking/Booking';\nimport Newsletter from '../shared/Newsletter';\nimport useFetch from '../hooks/useFetch';\nimport { BASE_URL } from '../utils/config';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TourDetails = async () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  console.log(`Received id: ${id}`);\n  const reviewMsgRef = useRef('');\n  const [tourRating, setTourRating] = useState(null);\n\n  //fetch data from database\n  const url = `${BASE_URL}/tours/${id}`;\n  console.log(url);\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const test = await response.json();\n  //const{data:tour, loading, error}=test;\n  let loading = false;\n  let error = false;\n  let tour = test.data;\n  //console.log(response.json);\n  //console.log(`Fetched tour data: ${JSON.stringify(error)}`);\n  //const tour= tourData.find(tour=>tour.id===id)\n  const {\n    photo,\n    title,\n    desc,\n    price,\n    address,\n    reviews,\n    city,\n    distance,\n    maxGroupSize\n  } = tour;\n  console.log(city);\n  const {\n    totalRating,\n    avgRating\n  } = calculateAvgRating(reviews);\n  const options = {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\"\n  };\n\n  //submit request to server\n  const submitHandler = e => {\n    e.preventDefault();\n    const reviewText = reviewMsgRef.current.value;\n    //alert('${reviewText}, ${tourRating}');\n  };\n\n  // useEffect(()=>{\n  //     window.scrollTo(0,0);\n  // },[tour])\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: city\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(TourDetails, \"peM6dVFz3hVeIYpK3hzCVj6XPZo=\", false, function () {\n  return [useParams];\n});\n_c = TourDetails;\nexport default TourDetails;\nvar _c;\n$RefreshReg$(_c, \"TourDetails\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Container","Row","Col","Form","ListGroup","useParams","calculateAvgRating","avatar","Booking","Newsletter","useFetch","BASE_URL","TourDetails","id","console","log","reviewMsgRef","tourRating","setTourRating","url","response","fetch","method","headers","test","json","loading","error","tour","data","photo","title","desc","price","address","reviews","city","distance","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value"],"sources":["C:/Users/Punit/Downloads/tour-management/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\r\nimport '../styles/tour-details.css';\r\nimport {Container, Row, Col, Form, ListGroup} from 'reactstrap';\r\nimport {useParams} from 'react-router-dom';\r\nimport calculateAvgRating from '../utils/avgRating';\r\nimport avatar from '../assets/images/avatar.jpg';\r\nimport Booking from '../components/Booking/Booking';\r\nimport Newsletter from '../shared/Newsletter';\r\nimport useFetch from '../hooks/useFetch';\r\nimport { BASE_URL } from '../utils/config';\r\nconst TourDetails = async() => {\r\n    const {id} = useParams()\r\n    console.log(`Received id: ${id}`);\r\n\r\n    const reviewMsgRef= useRef('')\r\n    const [tourRating, setTourRating]= useState(null)\r\n\r\n    //fetch data from database\r\n    const url=`${BASE_URL}/tours/${id}`\r\n    console.log(url);\r\n    const response=await fetch(url,{\r\n        method:'GET',headers:{\r\n            'Content-Type':'application/json'\r\n        }\r\n    });\r\n    const test=await response.json();\r\n    //const{data:tour, loading, error}=test;\r\n    let loading=false;\r\n    let error=false;\r\n    let tour=test.data;\r\n    //console.log(response.json);\r\n    //console.log(`Fetched tour data: ${JSON.stringify(error)}`);\r\n    //const tour= tourData.find(tour=>tour.id===id)\r\n    const {\r\n        photo,\r\n        title,\r\n        desc,\r\n        price, \r\n        address,\r\n        reviews,\r\n        city,\r\n        distance,\r\n        maxGroupSize\r\n    }=tour\r\n\r\n    console.log(city);\r\n    \r\n    const {totalRating, avgRating} = calculateAvgRating(reviews)\r\n    const options= {day: \"numeric\", month: \"long\", year: \"numeric\"};\r\n\r\n    //submit request to server\r\n    const submitHandler=e=>{\r\n        e.preventDefault();\r\n        const reviewText = reviewMsgRef.current.value;\r\n        //alert('${reviewText}, ${tourRating}');\r\n    };\r\n\r\n    // useEffect(()=>{\r\n    //     window.scrollTo(0,0);\r\n    // },[tour])\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                {city}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TourDetails"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACxD,OAAO,4BAA4B;AACnC,SAAQC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,SAAS,QAAO,YAAY;AAC/D,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,OAAOC,kBAAkB,MAAM,oBAAoB;AACnD,OAAOC,MAAM,MAAM,6BAA6B;AAChD,OAAOC,OAAO,MAAM,+BAA+B;AACnD,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,SAASC,QAAQ,QAAQ,iBAAiB;AAAC;AAAA;AAC3C,MAAMC,WAAW,GAAG,YAAW;EAAA;EAC3B,MAAM;IAACC;EAAE,CAAC,GAAGR,SAAS,EAAE;EACxBS,OAAO,CAACC,GAAG,CAAE,gBAAeF,EAAG,EAAC,CAAC;EAEjC,MAAMG,YAAY,GAAEnB,MAAM,CAAC,EAAE,CAAC;EAC9B,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAEnB,QAAQ,CAAC,IAAI,CAAC;;EAEjD;EACA,MAAMoB,GAAG,GAAE,GAAER,QAAS,UAASE,EAAG,EAAC;EACnCC,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;EAChB,MAAMC,QAAQ,GAAC,MAAMC,KAAK,CAACF,GAAG,EAAC;IAC3BG,MAAM,EAAC,KAAK;IAACC,OAAO,EAAC;MACjB,cAAc,EAAC;IACnB;EACJ,CAAC,CAAC;EACF,MAAMC,IAAI,GAAC,MAAMJ,QAAQ,CAACK,IAAI,EAAE;EAChC;EACA,IAAIC,OAAO,GAAC,KAAK;EACjB,IAAIC,KAAK,GAAC,KAAK;EACf,IAAIC,IAAI,GAACJ,IAAI,CAACK,IAAI;EAClB;EACA;EACA;EACA,MAAM;IACFC,KAAK;IACLC,KAAK;IACLC,IAAI;IACJC,KAAK;IACLC,OAAO;IACPC,OAAO;IACPC,IAAI;IACJC,QAAQ;IACRC;EACJ,CAAC,GAACV,IAAI;EAENd,OAAO,CAACC,GAAG,CAACqB,IAAI,CAAC;EAEjB,MAAM;IAACG,WAAW;IAAEC;EAAS,CAAC,GAAGlC,kBAAkB,CAAC6B,OAAO,CAAC;EAC5D,MAAMM,OAAO,GAAE;IAACC,GAAG,EAAE,SAAS;IAAEC,KAAK,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAS,CAAC;;EAE/D;EACA,MAAMC,aAAa,GAACC,CAAC,IAAE;IACnBA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,UAAU,GAAGhC,YAAY,CAACiC,OAAO,CAACC,KAAK;IAC7C;EACJ,CAAC;;EAED;EACA;EACA;;EAEA,oBACI;IAAA,uBACI;MAAA,UACKd;IAAI;MAAA;MAAA;MAAA;IAAA;EACH,iBACP;AAEX,CAAC;AAAA,GA1DKxB,WAAW;EAAA,QACAP,SAAS;AAAA;AAAA,KADpBO,WAAW;AA4DjB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}